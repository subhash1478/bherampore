{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CartPage } from './cart';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CartPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CartPage),\r\n  ],\r\n})\r\nexport class CartPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, ViewController } from 'ionic-angular';\r\nimport { ServicesProvider } from '../../providers/services/services'\r\nimport { UtilityProvider } from '../../providers/utility/utility'\r\nimport { Config } from '../../config';\r\n/**\r\n* Generated class for the CartPage page.\r\n*\r\n* See https://ionicframework.com/docs/components/#navigation for more info on\r\n* Ionic pages and navigation.\r\n*/\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-cart',\r\n  templateUrl: 'cart.html',\r\n})\r\nexport class CartPage {\r\n  sub_total: number;\r\n  checkoutList: any[];\r\n  address: any=[];\r\n  paymenttype:string\r\n  shop:any={}\r\n  cartEmpty: boolean=true;\r\n  constructor(\r\n    public viewCtrl: ViewController, \r\n    public modalCtrl: ModalController,\r\n    public utility: UtilityProvider, public navCtrl: NavController, \r\n    public navParams: NavParams, public _services: ServicesProvider) \r\n    {\r\n    }\r\n    ionViewDidLoad() {\r\n      let obj={\r\n        id:Config.USER._id\r\n      } \r\n      this._services.getCart(obj).subscribe((Response) => {\r\n        let result=Response.response.data\r\n        let pro=[]\r\n        this.sub_total=0\r\n        \r\n        \r\n        result.forEach(element => {\r\n          let newpro={}\r\n          newpro['price']=element.price\r\n          newpro['product_name']=element.productid.title\r\n          newpro['product_id']=element.productid.id\r\n          newpro['quantity']=element.quantity\r\n          newpro['shopid']=element.shopid.title\r\n          newpro['id']=element.id\r\n          this.shop.name=element.shopid.title\r\n          this.shop.id=element.shopid.id\r\n          this.sub_total+=element.quantity*element.price\r\n          pro.push(newpro)\r\n        });\r\n        \r\n        \r\n        \r\n        \r\n        pro.sort((a,b) => a.product_name.localeCompare(b.product_name));\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        this.checkoutList=pro\r\n        this.cartEmpty=false\r\n      }, (error) => {\r\n        this.cartEmpty=true\r\n      } )\r\n      let data={\r\n        userid:Config.USER._id\r\n      }\r\n      this._services.getShippingAddress(data).subscribe((Response) => {\r\n        this.address=Response.response.data \r\n      });\r\n    }\r\n    increment(i) {\r\n      this.checkoutList[i].quantity++\r\n      this.subtotalcal()\r\n      this.addToCart(i)\r\n    }\r\n    decrement(i) {\r\n      console.log(i);\r\n      \r\n      if(this.checkoutList[i].quantity===1){\r\n        this.removeCartItem(i)\r\n        this.checkoutList[i].quantity--\r\n        this.subtotalcal()\r\n        this.checkoutList.splice(i,1)\r\n        return false\r\n      }\r\n      this.checkoutList[i].quantity--\r\n      this.subtotalcal()\r\n      this.addToCart(i)\r\n    }\r\n    Checkout(){\r\n      this.navCtrl.setRoot('CheckoutPage')\r\n    }\r\n    subtotalcal(){\r\n      this.sub_total=0\r\n      \r\n      this.checkoutList.forEach(element=>{\r\n        \r\n        let newpro={}\r\n        newpro['price']=element.price\r\n        newpro['quantity']=element.quantity\r\n        this.sub_total+=element.quantity*element.price\r\n      })\r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n    }\r\n    addToCart(i){\r\n      if(this.checkoutList[i].quantity==0){\r\n        return false\r\n      }\r\n      let obj={\r\n        quantity:this.checkoutList[i].quantity,\r\n        productid:this.checkoutList[i].product_id,\r\n        price: this.checkoutList[i].price,\r\n        userid:Config.USER._id,\r\n        shopid:  this.shop.id,\r\n        status:0\r\n      }\r\n      console.log(obj);\r\n      this._services.addToCart(obj).subscribe((Response) => {\r\n        console.log(Response);\r\n      })\r\n    }\r\n    \r\n    removeCartItem(i){\r\n      console.log('removeCartItem',this.checkoutList[i]);\r\n      \r\n      let obj={\r\n        id:this.checkoutList[i].id\r\n      }\r\n      this._services.removeItem(obj).subscribe((Response) => {\r\n        console.log(Response);\r\n      })\r\n    }\r\n    \r\n    shopnow(){\r\n      let item={\r\n        _id:'5b05aefe5c669d0676a6b1f6',\r\n        title:'Restaurant'\r\n      }\r\n      this.navCtrl.push(\"PostPage\", { id: item._id ,title:item.title})\r\n      \r\n    }\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}